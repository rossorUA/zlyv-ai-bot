import telebot
import time
import random
from datetime import datetime
from keep_alive import keep_alive
import os

TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")
CHANNEL_ID = os.getenv("TELEGRAM_CHANNEL_ID")

bot = telebot.TeleBot(TOKEN)

POSTS = [
    "GPT-4o —Ç–µ–ø–µ—Ä –ø–µ—Ä–µ–±–∏–≤–∞—î —Ç–µ–±–µ –≤–≥–æ–ª–æ—Å. OpenAI —Ç–µ—Å—Ç—É—î –Ω–æ–≤—É –≥–æ–ª–æ—Å–æ–≤—É –º–æ–¥–µ–ª—å, —è–∫–∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç—å, –∞ –∑–¥–∞—Ç–Ω–∞ —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ—á–∏–Ω–∞—î –≥–æ–≤–æ—Ä–∏—Ç–∏ ‚Äî –π ‚Äú–ø–µ—Ä–µ–±–∏—Ç–∏‚Äù –π–æ–≥–æ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –®–Ü —Ä–µ–∞–≥—É–≤–∞—Ç–∏ —è–∫ —Ä–µ–∞–ª—å–Ω–∏–π —Å–ø—ñ–≤—Ä–æ–∑–º–æ–≤–Ω–∏–∫ –∑ –µ–º–æ—Ü—ñ—è–º–∏ —Ç–∞ –ø–ª–∞–≤–Ω—ñ—Å—Ç—é.\n@zlyv_ai",
    "Textual ‚Äî –Ω–æ–≤–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞ Python –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è TUI-–¥–æ–¥–∞—Ç–∫—ñ–≤ —É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑ –ª–æ–≥—ñ–∫–æ—é —è–∫ —É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É. –í—ñ–Ω –¥–∞—î –∑–º–æ–≥—É —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É —è–∫ —É React, –∞–ª–µ –ø—Ä—è–º–æ –≤ CLI.\n@zlyv_ai",
    "Meta –ø–æ–∫–∞–∑–∞–ª–∞ –®–Ü, —è–∫–∏–π —á–∏—Ç–∞—î –¥—É–º–∫–∏ –∑ EEG-–¥–∞–Ω–∏—Ö. –ú–æ–¥–µ–ª—å –∑–¥–∞—Ç–Ω–∞ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –æ–±—Ä–∞–∑–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –º–æ–∑–∫–æ–≤–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ. –¶–µ —â–µ –Ω–µ —Ç–µ–ª–µ–ø–∞—Ç—ñ—è, –∞–ª–µ –¥—É–∂–µ –±–ª–∏–∑—å–∫–æ.\n@zlyv_ai",
    "Google DeepMind –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–≤ RT-2.5 ‚Äî –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—É –º–æ–¥–µ–ª—å, —è–∫–∞ —ñ–Ω—Ç–µ—Ä–ø—Ä–µ—Ç—É—î –≤—ñ–¥–µ–æ —è–∫ —Å–µ—Ä—ñ–∞–ª—å–Ω—ñ –µ–ø—ñ–∑–æ–¥–∏, —Ä–æ–∑—É–º—ñ—é—á–∏ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∫–∞–¥—Ä–∏, –∞ —Ü—ñ–ª—ñ—Å–Ω—ñ —Å—Ü–µ–Ω–∏ —Ç–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—é.\n@zlyv_ai"
]

used_posts = []

def get_next_post():
    global used_posts
    if not used_posts:
        used_posts = POSTS.copy()
        random.shuffle(used_posts)
    return used_posts.pop()

def post_loop():
    while True:
        post = get_next_post()
        print("\nüåÄ –û–±—Ä–∞–Ω–æ –ø–æ—Å—Ç:")
        print(post)
        try:
            bot.send_message(CHANNEL_ID, post)
            current_time = datetime.now().strftime("%H:%M:%S")
            print(f"‚úÖ –ù–∞–¥—ñ—Å–ª–∞–Ω–æ –≤ {CHANNEL_ID} –æ {current_time}")
        except Exception as e:
            print("‚ùå –ü–æ–º–∏–ª–∫–∞:", e)
        print("‚è≥ –°–ø–ª—é 10 —Ö–≤–∏–ª–∏–Ω...\n")
        time.sleep(600)

if __name__ == "__main__":
    keep_alive()
    print("‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω–æ. –ù–∞–¥—Å–∏–ª–∞—é –ø–µ—Ä—à–∏–π –ø–æ—Å—Ç...\n")
    bot.send_message(CHANNEL_ID, "‚ö° –°—Ç–∞—Ä—Ç –∞–≤—Ç–æ–∑–ª–∏–≤—É. –î–∞–ª—ñ ‚Äî –∫–æ–∂–Ω—ñ 10 —Ö–≤.\n@zlyv_ai")
    post_loop()
